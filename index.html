<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Practical-machine-learning by PanosChristidis</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Practical-machine-learning</h1>
        <p>Assignment</p>

        <p class="view"><a href="https://github.com/PanosChristidis/Practical-Machine-Learning">View the Project on GitHub <small>PanosChristidis/Practical-Machine-Learning</small></a></p>


        <ul>
          <li><a href="https://github.com/PanosChristidis/Practical-Machine-Learning/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/PanosChristidis/Practical-Machine-Learning/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/PanosChristidis/Practical-Machine-Learning">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>&lt;!DOCTYPE html&gt;</p>

<p></p>

<p></p>

<p>

</p>

<p></p>Project write-up



<p>

</p>



code{white-space: pre;}

<p></p>




  pre:not([class]) {
    background-color: white;
  }




<p></p>

<p></p>


.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}


<div>


<div id="header">
<h1>
<a id="project-write-up" class="anchor" href="#project-write-up" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project write-up</h1>
</div>

<p><strong>Load libraries and data</strong></p>

<pre><code>library(caret)</code></pre>

<pre><code>## Loading required package: lattice
## Loading required package: ggplot2</code></pre>

<pre><code>library(rpart)
library(rpart.plot)
 
trainUrl &lt;- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"
valUrl &lt;- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"
data &lt;- read.csv(url(trainUrl), header=TRUE, sep=",", na.strings=c("NA","#DIV/0!",""))
validate &lt;- read.csv(url(valUrl), header=TRUE, sep=",", na.strings=c("NA","#DIV/0!",""))</code></pre>

<p><strong>Remove columns that do not contain usable info (1-7)</strong></p>

<pre><code>data &lt;- data[,-seq(1:7)]</code></pre>

<p><strong>Removing the columns that have NAs</strong></p>

<pre><code># select columns that don't have NAs
haveNA &lt;- as.vector(sapply(data[,1:152],function(x) {length(which(is.na(x)))!=0}))
data &lt;- data[,!haveNA]</code></pre>

<p><strong>Split of dataset into 70% for training and 30% for testing</strong></p>

<pre><code>inTrain &lt;- createDataPartition(y=data$classe, p=0.7, list=FALSE )
train &lt;- data[inTrain,]
test &lt;- data[-inTrain,]</code></pre>

<p><strong>Modeling a decision tree with Rpart</strong></p>

<pre><code>dt &lt;- rpart(classe ~ ., data=train, method="class")</code></pre>

<p><strong>The resulting decision tree</strong> <img title alt width="672"></p>

<p><strong>Cross-validation</strong></p>

<pre><code>predict1 &lt;- predict(dt, test, type = "class")
confusionMatrix(predict1, test$classe)</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 1514  167   30   54    8
##          B   56  660   49   69   80
##          C   33  222  880  117  162
##          D   62   62   66  637   74
##          E    9   28    1   87  758
## 
## Overall Statistics
##                                           
##                Accuracy : 0.756           
##                  95% CI : (0.7448, 0.7669)
##     No Information Rate : 0.2845          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.691           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity            0.9044   0.5795   0.8577   0.6608   0.7006
## Specificity            0.9385   0.9465   0.8901   0.9464   0.9740
## Pos Pred Value         0.8539   0.7221   0.6223   0.7070   0.8584
## Neg Pred Value         0.9611   0.9036   0.9673   0.9344   0.9352
## Prevalence             0.2845   0.1935   0.1743   0.1638   0.1839
## Detection Rate         0.2573   0.1121   0.1495   0.1082   0.1288
## Detection Prevalence   0.3013   0.1553   0.2403   0.1531   0.1500
## Balanced Accuracy      0.9215   0.7630   0.8739   0.8036   0.8373</code></pre>

<p></p>
</div>







<p>
</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/PanosChristidis">PanosChristidis</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
